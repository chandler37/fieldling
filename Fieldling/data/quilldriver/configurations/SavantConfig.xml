<?xml version="1.0" encoding="UTF-8"?>
<qd-configuration>
	<parameters>
		<xmlschema val="TibetanTranscript.xsd"/>
		<parameter name="qd.root.element" val="TEXT" type="text"/>
		<parameter name="qd.title" val="/TEXT/HEADER/TITLE"/>
		<parameter name="qd.mediaurl" val="/TEXT/HEADER/SOUNDFILE/@href"/>
		<parameter name="qd.timealignednodes" val="//*[AUDIO]"/>
		<parameter name="qd.nodebegins" val="AUDIO/@start"/>
		<parameter name="qd.nodeends" val="AUDIO/@end"/>
		<parameter name="qd.nearestplayableparent" val="ancestor-or-self::*[AUDIO]"/>
	</parameters>
	<menus>
		<menu name="File" contains="FixMedia"/>
		<menu name="BrowseMenu" contains="PlayPause PlayBack PlayNextLine PlayCurrentLine PlayEndofCurrentLine PlayPreviousLine NextSentence PreviousSentence GotoStart GotoEnd"/>
	</menus>
	<actions>
		<!-- file menu -->	
		<action name="FixMedia" keystroke="control INSERT" node="ancestor-or-self::TEXT/HEADER/SOUNDFILE" xsl-task="fixMedia">
			<helptext ref="help34"/>
		</action>
		<!-- browse menu -->			
		<action name="PlayPause" keystroke="control SLASH" node="." move="false" qd-command="playPause">
			<helptext ref="help1"/>
		</action>
		<action name="PlayBack" keystroke="control QUOTE" node="." move="false" qd-command="playBack">
			<helptext ref="help2"/>
		</action>
		<action name="PlayNextLine" keystroke="control shift DOWN" node="following::*[AUDIO]" qd-command="playNode">
			<helptext ref="help3"/>
		</action>
		<action name="PlayCurrentLine" keystroke="control LEFT" node="ancestor-or-self::*[AUDIO]" move="false" qd-command="playNode">
			<helptext ref="help4"/>
		</action>
		<action name="PlayEndofCurrentLine" keystroke="control RIGHT" node="ancestor-or-self::*[AUDIO]" move="false" qd-command="playEdge">
			<helptext ref="help5"/>
		</action>
		<action name="PlayPreviousLine" keystroke="control shift UP" node="preceding::*[AUDIO]" qd-command="playNode">
			<helptext ref="help6"/>
		</action>
		<action name="NextSentence" keystroke="control DOWN" node="following::S">
			<helptext ref="help7"/>
		</action>
		<action name="PreviousSentence" keystroke="control UP" node="preceding::S">
			<helptext ref="help8"/>
		</action>
		<action name="GotoStart" keystroke="control L" node="ancestor-or-self::S" qd-command="seekStart">
			<helptext ref="help32"/>
		</action>
		<action name="GotoEnd" keystroke="control SEMICOLON" node="ancestor-or-self::S" qd-command="seekEnd">
			<helptext ref="help33"/>
		</action>		
	</actions>
	<rendering-instructions>
		<tag name="TEXT" visible="false">
			<attribute name="xml:lang" visible="false"/>
		</tag>
		<tag name="HEADER" visible="false" visiblecontents="false"/>
		<tag name="NOTE" visible="false" visiblecontents="false" displayas="@type">
			<attribute name="type" visible="false"/>
		</tag>
		<tag name="AUDIO" visible="false" visiblecontents="false"/>
		<tagview name="TibetanOnly" keystroke="F1">
			<tag name="S" visible="true" displayas="id(./@who)" tibetan="true">
				<attribute name="id" visible="false"/>
				<attribute name="who" visible="false"/>
			</tag>
			<tag name="FORM" visible="true" tibetan="true" icon="play.gif" tibetancontents="true">
				<attribute name="type" visible="false"/>
			</tag>
			<tag name="TRANSL" visible="false" visiblecontents="false"/>
			<tag name="TRANSL_ZH" visible="false" visiblecontents="false"/>
		</tagview>
		<tagview name="EnglishOnly" keystroke="F2">
			<tag name="S" visible="true" displayas="id(./@who)">
				<attribute name="id" visible="false"/>
				<attribute name="who" visible="false"/>
			</tag>
			<tag name="FORM" visible="false" visiblecontents="false"/>
			<tag name="TRANSL" visible="true" icon="play.gif">
				<attribute name="xml:lang" visible="false"/>
			</tag>
		</tagview>
		<tagview name="TibetanAndEnglish" keystroke="F3">
			<tag name="S" visible="true" displayas="id(./@who)" tibetan="true">
				<attribute name="id" visible="false"/>
				<attribute name="who" visible="false"/>
			</tag>
			<tag name="FORM" visible="true" tibetan="true" icon="play.gif">
				<attribute name="type" visible="false"/>
			</tag>
			<tag name="TRANSL" visible="false"/>
		</tagview>
		<tagview name="WylieAndEnglish" keystroke="F4">
			<tag name="S" visible="true" displayas="id(./@who)">
				<attribute name="id" visible="false"/>
				<attribute name="who" visible="false"/>
			</tag>
			<tag name="FORM" visible="true" icon="play.gif">
				<attribute name="type" visible="false"/>
			</tag>
			<tag name="TRANSL" visible="false"/>
		</tagview>
		<tagview name="NotesOnly" keystroke="F5">
			<tag name="S" visible="true" displayas="@who">
				<attribute name="id" visible="false"/>
				<attribute name="who" visible="false"/>
			</tag>
			<tag name="NOTE" visible="true" icon="play.gif">
				<attribute name="type" visible="false"/>
			</tag>
			<tag name="FORM" visible="false" visiblecontents="false"/>
			<tag name="TRANSL" visible="false" visiblecontents="false"/>
		</tagview>
		<tagview name="ShowEverything" keystroke="F6">
			<tag name="S" visible="true" displayas="@who">
				<attribute name="id" visible="false"/>
				<attribute name="who" visible="false"/>
			</tag>
			<tag name="FORM" visible="true" tibetan="true" icon="play.gif">
				<attribute name="type" visible="false"/>
			</tag>
			<tag name="TRANSL" visible="false">
				<attribute name="xml:lang" visible="false"/>
			</tag>
			<tag name="NOTE" displayas="@type">
				<attribute name="type" visible="false"/>
			</tag>
		</tagview>
	</rendering-instructions>
</qd-configuration>
