<?xml version="1.0" encoding="UTF-8"?>
<qd-configuration>
	<parameters>
		<xmlschema val="TibetanTranscript.xsd"/>
		<newtemplate val="TranscriptionNew.xml"/>
		<xsltransform val="TranscriptionEdit.xsl"/>
		<parameter name="qd.title" val="/TEXT/HEADER/TITLE"/>
		<parameter name="qd.mediaurl" val="/TEXT/HEADER/SOUNDFILE/@href"/>
		<parameter name="qd.timealignednodes" val="//*[AUDIO]"/>
		<parameter name="qd.nodebegins" val="AUDIO/@start"/>
		<parameter name="qd.nodeends" val="AUDIO/@end"/>
		<parameter name="qd.nearestplayableparent" val="ancestor-or-self::*[AUDIO]"/>
	</parameters>
	<menus>
		<menu name="Transcript" contains="Save FixMedia"/>
		<menu name="Options" contains="TimeCoding"/>
		<menu name="BrowseMenu" contains="PlayPause PlayBack PlayNextLine PlayCurrentLine PlayEndofCurrentLine PlayPreviousLine NextSentence PreviousSentence GotoStart GotoEnd"/>
		<menu name="EditMenu" contains="InsertAfter InsertBefore DeleteSentence InsertTranslation_EN DeleteTranslation_EN InsertTranslation_ZH DeleteTranslation_ZH AddSpeaker DeleteSpeaker ChangeSpeaker AddGeneralNote AddLexicalNote AddGrammaticalNote AddPronunciationNote AddInterpretiveNote AddSociolinguisticNote AddCulturalNote DeleteNote"/>
		<menu name="TibetanKeyboard"/>
		<menu name="TimeCodeMenu" contains="MarkStartTime MarkStopTime IncreaseStartTime RapidIncreaseStart DecreaseStartTime RapidDecreaseStart IncreaseStopTime RapidIncreaseStop MaximizeStop DecreaseStopTime RapidDecreaseStop ZapTimeCodes"/>
	</menus>
	<actions>
		<!-- file menu -->	
		<action name="Save" keystroke="control S" node="." qd-command="saveTranscript">
		</action>
		<action name="FixMedia" keystroke="control INSERT" node="ancestor-or-self::TEXT/HEADER/SOUNDFILE" xsl-task="fixMedia" qd-command="saveTranscript">
			<helptext ref="help34"/>
		</action>
		<!-- preferences menu -->	
		<action name="TimeCoding" keystroke="control T" node="." qd-command="timeCode">
		</action>
		<!-- browse menu -->			
		<action name="PlayPause" keystroke="control SLASH" node="." move="false" qd-command="playPause">
			<helptext ref="help1"/>
		</action>
		<action name="PlayBack" keystroke="control QUOTE" node="." move="false" qd-command="playBack">
			<helptext ref="help2"/>
		</action>
		<action name="PlayNextLine" keystroke="control shift DOWN" node="following::*[AUDIO]" qd-command="playNode">
			<helptext ref="help3"/>
		</action>
		<action name="PlayCurrentLine" keystroke="control LEFT" node="ancestor-or-self::*[AUDIO]" move="false" qd-command="playNode">
			<helptext ref="help4"/>
		</action>
		<action name="PlayEndofCurrentLine" keystroke="control RIGHT" node="ancestor-or-self::*[AUDIO]" move="false" qd-command="playEdge">
			<helptext ref="help5"/>
		</action>
		<action name="PlayPreviousLine" keystroke="control shift UP" node="preceding::*[AUDIO][1]" qd-command="playNode">
			<helptext ref="help6"/>
		</action>
		<action name="NextSentence" keystroke="control DOWN" node="following::S">
			<helptext ref="help7"/>
		</action>
		<action name="PreviousSentence" keystroke="control UP" node="preceding::S[1]">
			<helptext ref="help8"/>
		</action>
		<action name="GotoStart" keystroke="control L" node="ancestor-or-self::S" qd-command="seekStart">
			<helptext ref="help32"/>
		</action>
		<action name="GotoEnd" keystroke="control SEMICOLON" node="ancestor-or-self::S" qd-command="seekEnd">
			<helptext ref="help33"/>
		</action>
		<!-- edit menu -->
		<action name="InsertAfter" keystroke="control M" node="ancestor-or-self::S" xsl-task="insertAfter">
			<helptext ref="help27"/>
		</action>
		<action name="InsertBefore" keystroke="control B" node="ancestor-or-self::S" xsl-task="insertBefore">
			<helptext ref="help28"/>
		</action>
		<action name="DeleteSentence" keystroke="control R" node="ancestor-or-self::S" xsl-task="removeNode">
			<helptext ref="help26"/>
		</action>
		<action name="InsertTranslation_EN" keystroke="control T" node="ancestor-or-self::S" xsl-task="insertTranslation_EN">
			<helptext ref="help30"/>
		</action>
		<action name="InsertTranslation_ZH" keystroke="control H" node="ancestor-or-self::S" xsl-task="insertTranslation_ZH">
			<helptext ref="help43"/>
		</action>
		<action name="DeleteTranslation_EN" keystroke="control alt T" node="ancestor-or-self::TRANSL" xsl-task="removeNode">
			<helptext ref="help31"/>
		</action>
		<action name="DeleteTranslation_ZH" keystroke="control alt H" node="ancestor-or-self::TRANSL_ZH" xsl-task="removeNode">
			<helptext ref="help44"/>
		</action>
		<action name="GotoStart" keystroke="control L" node="ancestor-or-self::S" qd-command="seekStart">
			<helptext ref="help32"/>
		</action>
		<action name="AddSpeaker" keystroke="control J" node="ancestor-or-self::TEXT/HEADER" xsl-task="addSpeaker">
			<helptext ref="help9"/>
		</action>
		<action name="DeleteSpeaker" keystroke="control K" node="ancestor-or-self::SPEAKER" xsl-task="removeNode">
			<helptext ref="help10"/>
		</action>
		<action name="ChangeSpeaker" keystroke="control 1" node="ancestor-or-self::S" xsl-task="changeSpeaker">
			<helptext ref="help11"/>
		</action>
		<action name="AddGeneralNote" keystroke="alt N" node="ancestor-or-self::S" xsl-task="addGeneral">
			<helptext ref="help35"/>
		</action>
		<action name="AddLexicalNote" keystroke="alt L" node="ancestor-or-self::S" xsl-task="addLexical">
			<helptext ref="help36"/>
		</action>
		<action name="AddGrammaticalNote" keystroke="alt G" node="ancestor-or-self::S" xsl-task="addGrammatical">
			<helptext ref="help37"/>
		</action>
		<action name="AddPronunciationNote" keystroke="alt P" node="ancestor-or-self::S" xsl-task="addPronunciation">
			<helptext ref="help38"/>
		</action>
		<action name="AddInterpretiveNote" keystroke="alt I" node="ancestor-or-self::S" xsl-task="addInterpretive">
			<helptext ref="help39"/>
		</action>
		<action name="AddSociolinguisticNote" keystroke="alt S" node="ancestor-or-self::S" xsl-task="addSociolinguistic">
			<helptext ref="help40"/>
		</action>
		<action name="AddCulturalNote" keystroke="alt C" node="ancestor-or-self::S" xsl-task="addCultural">
			<helptext ref="help41"/>
		</action>
		<action name="DeleteNote" keystroke="alt D" node="ancestor-or-self::NOTE" xsl-task="removeNode">
			<helptext ref="help42"/>
		</action>
		<!-- timecode menu -->
		<action name="MarkStartTime" keystroke="control COMMA" node="ancestor-or-self::S" xsl-task="markStart">
			<helptext ref="help12"/>
		</action>
		<action name="MarkStopTime" keystroke="control PERIOD" node="ancestor-or-self::S" xsl-task="markStop" qd-command="stopMedia">
			<helptext ref="help13"/>
		</action>
		<action name="IncreaseStartTime" keystroke="control EQUALS" node="ancestor-or-self::S" xsl-task="increaseStart">
			<helptext ref="help16"/>
		</action>
		<action name="RapidIncreaseStart" keystroke="alt control EQUALS" node="ancestor-or-self::S" xsl-task="rapidIncreaseStart">
			<helptext ref="help17"/>
		</action>
		<action name="DecreaseStartTime" keystroke="control MINUS" node="ancestor-or-self::S" xsl-task="decreaseStart">
			<helptext ref="help18"/>
		</action>
		<action name="RapidDecreaseStart" keystroke="alt control MINUS" node="ancestor-or-self::S" xsl-task="rapidDecreaseStart">
			<helptext ref="help19"/>
		</action>
		<action name="IncreaseStopTime" keystroke="control CLOSE_BRACKET" node="ancestor-or-self::S" xsl-task="increaseStop">
			<helptext ref="help20"/>
		</action>
		<action name="RapidIncreaseStop" keystroke="alt control CLOSE_BRACKET" node="ancestor-or-self::S" xsl-task="rapidIncreaseStop">
			<helptext ref="help21"/>
		</action>
		<action name="MaximizeStop" keystroke="alt control BACK_SLASH" node="ancestor-or-self::S" xsl-task="maximizeStop">
			<helptext ref="help22"/>
		</action>
		<action name="DecreaseStopTime" keystroke="control OPEN_BRACKET" node="ancestor-or-self::S" xsl-task="decreaseStop">
			<helptext ref="help23"/>
		</action>
		<action name="RapidDecreaseStop" keystroke="alt control OPEN_BRACKET" node="ancestor-or-self::S" xsl-task="rapidDecreaseStop">
			<helptext ref="help24"/>
		</action>
		<action name="ZapTimeCodes" keystroke="control shift SLASH" node="ancestor-or-self::S" xsl-task="zapTimes">
			<helptext ref="help15"/>
		</action>
	</actions>
	<rendering-instructions>
		<tag name="TEXT">
			<attribute name="xml:lang" visible="false"/>
		</tag>
		<tag name="TITLE">
			<attribute name="xml:lang" visible="false"/>
		</tag>
		<tag name="SPEAKER" tibetancontents="true"/>
		<tag name="AUDIO" visible="false" visiblecontents="false"/>
		<tag name="NOTE" visible="false" visiblecontents="false"/>
                
		<tagview name="TranscriptionOnly" keystroke="F1">
			<tag name="S" visible="false" visiblecontents="true">
				<attribute name="who" visible="false"/>
				<attribute name="id" visible="false"/>
			</tag>
			<tag name="FORM" displayas="if (../@who=../preceding-sibling::S[1]/@who) then '' else (id(../@who))" tibetan="true" tibetancontents="true">
				<attribute name="type" visible="false"/>
			</tag>
			<tag name="TRANSL" visible="false" visiblecontents="false"/>
			<tag name="TRANSL_ZH" visible="false" visiblecontents="false"/>
		</tagview>
		
		<tagview name="TranscriptionPlusEnglish" keystroke="F2">
			<tag name="S" displayas="if (./@who=./preceding-sibling::S[1]/@who) then '' else (id(./@who))" tibetan="true">
				<attribute name="id" visible="false"/>
				<attribute name="who" visible="false"/>
			</tag>
			<tag name="FORM" visible="false" visiblecontents="true" tibetancontents="true">
				<attribute name="type" visible="false"/>
			</tag>
			<tag name="TRANSL" visible="false" visiblecontents="true">
				<attribute name="xml:lang" visible="false"/>
			</tag>
			<tag name="TRANSL_ZH" visible="false" visiblecontents="false"/>
		</tagview>
		
		<tagview name="TranscriptionPlusChinese" keystroke="F3">
			<tag name="S" displayas="if (./@who=./preceding-sibling::S[1]/@who) then '' else (id(./@who))" tibetan="true">
				<attribute name="id" visible="false"/>
				<attribute name="who" visible="false"/>
			</tag>
			<tag name="FORM" visible="false" visiblecontents="true" tibetancontents="true">
				<attribute name="type" visible="false"/>
			</tag>
			<tag name="TRANSL" visible="false" visiblecontents="false"/>
			<tag name="TRANSL_ZH" visible="false" visiblecontents="true">
				<attribute name="xml:lang" visible="false"/>
			</tag>
		</tagview>
		
		<tagview name="TranscriptionPlusEnglishPlusChinese" keystroke="F4">
			<tag name="S" displayas="if (./@who=./preceding-sibling::S[1]/@who) then '' else (id(./@who))" tibetan="true">
				<attribute name="id" visible="false"/>
				<attribute name="who" visible="false"/>
			</tag>
			<tag name="FORM" visible="false" visiblecontents="true" tibetancontents="true">
				<attribute name="type" visible="false"/>
			</tag>
			<tag name="TRANSL" visible="false" visiblecontents="true">
				<attribute name="xml:lang" visible="false"/>
			</tag>
			<tag name="TRANSL_ZH" visible="false" visiblecontents="true">
				<attribute name="xml:lang" visible="false"/>
			</tag>
		</tagview>
		
		<tagview name="EnglishPlusChinese" keystroke="F5">
			<tag name="S" displayas="if (./@who=./preceding-sibling::S[1]/@who) then '' else (id(./@who))">
				<attribute name="id" visible="false"/>
				<attribute name="who" visible="false"/>
			</tag>
			<tag name="FORM" visible="false" visiblecontents="false"/>
			<tag name="TRANSL" visible="false" visiblecontents="true">
				<attribute name="xml:lang" visible="false"/>
			</tag>
			<tag name="TRANSL_ZH" visible="false" visiblecontents="true">
				<attribute name="xml:lang" visible="false"/>
			</tag>
		</tagview>
		
		<tagview name="Translation_ENOnly" keystroke="F6">
			<tag name="S" visible="false" visiblecontents="true">
				<attribute name="id" visible="false"/>
				<attribute name="who" visible="false"/>
			</tag>
			<tag name="TRANSL" displayas="if (../@who=../preceding-sibling::S[1]/@who) then '' else (id(../@who))" visiblecontents="true">
				<attribute name="xml:lang" visible="false"/>
			</tag>
                        <tag name="TRANSL_ZH" visible="false" visiblecontents="false"/>
			<tag name="FORM" visible="false" visiblecontents="false"/>
		</tagview>
		
		<tagview name="Translation_ZHOnly" keystroke="F7">
			<tag name="S" visible="false" visiblecontents="true">
				<attribute name="id" visible="false"/>
				<attribute name="who" visible="false"/>
			</tag>
			<tag name="TRANSL" visible="false" visiblecontents="false"/>
			<tag name="TRANSL_ZH" displayas="if (../@who=../preceding-sibling::S[1]/@who) then '' else (id(../@who))" visiblecontents="true">
				<attribute name="xml:lang" visible="false"/>
			</tag>
			<tag name="FORM" visible="false" visiblecontents="false"/>
			<tag name="NOTE" visible="false" visiblecontents="false"/>
		</tagview>

		<tagview name="WylieOnly" keystroke="F8">
			<tag name="S" displayas="if (./@who=./preceding-sibling::S[1]/@who) then '' else (id(./@who))" tibetan="true">
				<attribute name="id" visible="false"/>
				<attribute name="who" visible="false"/>
			</tag>
			<tag name="FORM" visible="false" visiblecontents="true" tibetancontents="false">
				<attribute name="type" visible="false"/>
			</tag>
			<tag name="TRANSL" visible="false" visiblecontents="false"/>
			<tag name="TRANSL_ZH" visible="false" visiblecontents="false"/>
		</tagview>
		
		<tagview name="WylieAndEnglish" keystroke="F9">
			<tag name="S" displayas="if (./@who=./preceding-sibling::S[1]/@who) then '' else (id(./@who))" tibetan="true">
				<attribute name="id" visible="false"/>
				<attribute name="who" visible="false"/>
			</tag>
			<tag name="FORM" visible="false" visiblecontents="true" tibetancontents="false">
				<attribute name="type" visible="false"/>
			</tag>
			<tag name="TRANSL" visible="false" visiblecontents="true">
				<attribute name="xml:lang" visible="false"/>
			</tag>
			<tag name="TRANSL_ZH" visible="false" visiblecontents="false"/>
		</tagview>
		
		<tagview name="NotesOnly" keystroke="F10">
			<tag name="S" visible="false" visiblecontents="true">
				<attribute name="id" visible="false"/>
				<attribute name="who" visible="false"/>
			</tag>
			<tag name="NOTE" visible="true" displayas="if (../@who=../preceding-sibling::S[1]/@who) then '' else (id(../@who))" visiblecontents="true">
				<attribute name="type" visible="false"/>
			</tag>
			<tag name="FORM" visible="false" visiblecontents="false"/>
			<tag name="TRANSL" visible="false" visiblecontents="false"/>
			<tag name="TRANSL_ZH" visible="false" visiblecontents="false"/>
		</tagview>

		<tagview name="TranscriptionPlusNotes" keystroke="F11">
			<tag name="S" visible="true" displayas="if (../@who=../preceding-sibling::S[1]/@who) then '' else (id(../@who))" tibetan="true">
				<attribute name="id" visible="false"/>
				<attribute name="who" visible="false"/>
			</tag>
			<tag name="FORM" visible="false" visiblecontents="true" tibetancontents="true">
				<attribute name="type" visible="false"/>
			</tag>
			<tag name="NOTE" visible="false" visiblecontents="true">
				<attribute name="type" visible="false"/>
			</tag>
			<tag name="TRANSL" visible="false" visiblecontents="false"/>
			<tag name="TRANSL_ZH" visible="false" visiblecontents="false"/>
		</tagview>

		<tagview name="EnglishPlusNotes"  keystroke="F12">
			<tag name="S" visible="true" displayas="if (@who=preceding-sibling::S[1]/@who) then '' else (id(@who))">
				<attribute name="id" visible="false"/>
				<attribute name="who" visible="false"/>
			</tag>
			<tag name="FORM" visible="false" visiblecontents="false"/>
			<tag name="TRANSL" visible="false" visiblecontents="true">
				<attribute name="xml:lang" visible="false"/>
			</tag>
			<tag name="NOTE" visible="false" visiblecontents="true">
				<attribute name="type" visible="false"/>
			</tag>
			<tag name="TRANSL_ZH" visible="false" visiblecontents="false"/>
		</tagview>
		
		<tagview name="ShowEverything">
			<tag name="S" visible="true" displayas="if (../@who=../preceding-sibling::S[1]/@who) then '' else (id(../@who))" tibetan="true">
				<attribute name="id" visible="false"/>
				<attribute name="who" visible="false"/>
			</tag>
			<tag name="FORM" visible="false" visiblecontents="true" tibetancontents="true">
				<attribute name="type" visible="false"/>
			</tag>
			<tag name="TRANSL" visible="false" visiblecontents="true">
				<attribute name="xml:lang" visible="false"/>
			</tag>
			<tag name="TRANSL_ZH" visible="false" visiblecontents="true">
				<attribute name="xml:lang" visible="false"/>
			</tag>
			<tag name="NOTE" displayas="@type">
				<attribute name="type" visible="false"/>
			</tag>
		</tagview>		
	</rendering-instructions>
</qd-configuration>